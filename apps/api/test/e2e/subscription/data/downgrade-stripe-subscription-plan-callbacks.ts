import { StripeSubscriptionMetaData } from 'src/modules/subscriptions/types';

export const downgradeStripeSubscriptionPlanCallbacks = ({
	accountId,
}: {
	accountId: string;
}) => ({
	customerSubscriptionUpdatedPayload: {
		id: 'evt_1OFFNnL1Br9QmOBdjrzNF6RS',
		object: 'event',
		api_version: '2022-11-15',
		created: 1700655498,
		data: {
			object: {
				id: 'sub_1NzIe0L1Br9QmOBdBcsZW1Vs',
				object: 'subscription',
				application: null,
				application_fee_percent: null,
				automatic_tax: {
					enabled: false,
				},
				billing_cycle_anchor: 1700586853,
				billing_thresholds: null,
				cancel_at: null,
				cancel_at_period_end: false,
				canceled_at: null,
				cancellation_details: {
					comment: null,
					feedback: null,
					reason: null,
				},
				collection_method: 'charge_automatically',
				created: 1696854788,
				currency: 'brl',
				current_period_end: 1703178853,
				current_period_start: 1700586853,
				customer: 'cus_OmsOBla2HmteWu',
				days_until_due: null,
				default_payment_method: 'pm_1OExWXL1Br9QmOBdo8CCwf88',
				default_source: null,
				default_tax_rates: [],
				description: null,
				discount: null,
				ended_at: null,
				items: {
					object: 'list',
					data: [
						{
							id: 'si_OmsOEdEdGRMPJw',
							object: 'subscription_item',
							billing_thresholds: null,
							created: 1696854789,
							metadata: {},
							plan: {
								id: 'price_1Ncf37L1Br9QmOBdmEp90h3X',
								object: 'plan',
								active: true,
								aggregate_usage: null,
								amount: 9990,
								amount_decimal: '9990',
								billing_scheme: 'per_unit',
								created: 1691459369,
								currency: 'brl',
								interval: 'month',
								interval_count: 1,
								livemode: false,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1UMsSZahJUB',
								tiers_mode: null,
								transform_usage: null,
								trial_period_days: null,
								usage_type: 'licensed',
							},
							price: {
								id: 'price_1Ncf37L1Br9QmOBdmEp90h3X',
								object: 'price',
								active: true,
								billing_scheme: 'per_unit',
								created: 1691459369,
								currency: 'brl',
								custom_unit_amount: null,
								livemode: false,
								lookup_key: null,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1UMsSZahJUB',
								recurring: {
									aggregate_usage: null,
									interval: 'month',
									interval_count: 1,
									trial_period_days: null,
									usage_type: 'licensed',
								},
								tax_behavior: 'unspecified',
								tiers_mode: null,
								transform_quantity: null,
								type: 'recurring',
								unit_amount: 9990,
								unit_amount_decimal: '9990',
							},
							quantity: 1,
							subscription: 'sub_1NzIe0L1Br9QmOBdBcsZW1Vs',
							tax_rates: [],
						},
					],
					has_more: false,
					total_count: 1,
					url: '/v1/subscription_items?subscription=sub_1NzIe0L1Br9QmOBdBcsZW1Vs',
				},
				latest_invoice: 'in_1OFFNmL1Br9QmOBdj8GM1NC9',
				livemode: false,
				metadata: <StripeSubscriptionMetaData>{
					accountId,
				},
				next_pending_invoice_item_invoice: null,
				on_behalf_of: null,
				pause_collection: null,
				payment_settings: {
					payment_method_options: null,
					payment_method_types: null,
					save_default_payment_method: 'off',
				},
				pending_invoice_item_interval: null,
				pending_setup_intent: null,
				pending_update: null,
				plan: {
					id: 'price_1Ncf37L1Br9QmOBdmEp90h3X',
					object: 'plan',
					active: true,
					aggregate_usage: null,
					amount: 9990,
					amount_decimal: '9990',
					billing_scheme: 'per_unit',
					created: 1691459369,
					currency: 'brl',
					interval: 'month',
					interval_count: 1,
					livemode: false,
					metadata: {},
					nickname: null,
					product: 'prod_OPU1UMsSZahJUB',
					tiers_mode: null,
					transform_usage: null,
					trial_period_days: null,
					usage_type: 'licensed',
				},
				quantity: 1,
				schedule: null,
				start_date: 1696854788,
				status: 'active',
				test_clock: null,
				transfer_data: null,
				trial_end: null,
				trial_settings: {
					end_behavior: {
						missing_payment_method: 'create_invoice',
					},
				},
				trial_start: null,
			},
			previous_attributes: {
				items: {
					data: [
						{
							id: 'si_OmsOEdEdGRMPJw',
							object: 'subscription_item',
							billing_thresholds: null,
							created: 1696854789,
							metadata: {},
							plan: {
								id: 'price_1Ncf3mL1Br9QmOBdo4k3uk9k',
								object: 'plan',
								active: true,
								aggregate_usage: null,
								amount: 19990,
								amount_decimal: '19990',
								billing_scheme: 'per_unit',
								created: 1691459410,
								currency: 'brl',
								interval: 'month',
								interval_count: 1,
								livemode: false,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1Iwj1rYiUgE',
								tiers_mode: null,
								transform_usage: null,
								trial_period_days: null,
								usage_type: 'licensed',
							},
							price: {
								id: 'price_1Ncf3mL1Br9QmOBdo4k3uk9k',
								object: 'price',
								active: true,
								billing_scheme: 'per_unit',
								created: 1691459410,
								currency: 'brl',
								custom_unit_amount: null,
								livemode: false,
								lookup_key: null,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1Iwj1rYiUgE',
								recurring: {
									aggregate_usage: null,
									interval: 'month',
									interval_count: 1,
									trial_period_days: null,
									usage_type: 'licensed',
								},
								tax_behavior: 'unspecified',
								tiers_mode: null,
								transform_quantity: null,
								type: 'recurring',
								unit_amount: 19990,
								unit_amount_decimal: '19990',
							},
							quantity: 1,
							subscription: 'sub_1NzIe0L1Br9QmOBdBcsZW1Vs',
							tax_rates: [],
						},
					],
				},
				latest_invoice: 'in_1OF4nCL1Br9QmOBdjTM9hLaA',
				plan: {
					id: 'price_1Ncf3mL1Br9QmOBdo4k3uk9k',
					amount: 19990,
					amount_decimal: '19990',
					created: 1691459410,
					product: 'prod_OPU1Iwj1rYiUgE',
				},
			},
		},
		livemode: false,
		pending_webhooks: 3,
		request: {
			id: null,
			idempotency_key: 'afe0047f-0be1-4768-aa35-530a353d0038',
		},
		type: 'customer.subscription.updated',
	},
	invoicePaidPayload: {
		id: 'evt_1OFFNnL1Br9QmOBdxFUZIiU2',
		object: 'event',
		api_version: '2022-11-15',
		created: 1700655498,
		data: {
			object: {
				id: 'in_1OFFNmL1Br9QmOBdj8GM1NC9',
				object: 'invoice',
				account_country: 'BR',
				account_name: 'Airtask',
				account_tax_ids: null,
				amount_due: 0,
				amount_paid: 0,
				amount_remaining: 0,
				amount_shipping: 0,
				application: null,
				application_fee_amount: null,
				attempt_count: 0,
				attempted: true,
				auto_advance: false,
				automatic_tax: {
					enabled: false,
					status: null,
				},
				billing_reason: 'subscription_update',
				charge: null,
				collection_method: 'charge_automatically',
				created: 1700655498,
				currency: 'brl',
				custom_fields: null,
				customer: 'cus_OmsOBla2HmteWu',
				customer_address: null,
				customer_email: 'goslingdbusiness@gmail.com',
				customer_name: null,
				customer_phone: null,
				customer_shipping: null,
				customer_tax_exempt: 'none',
				customer_tax_ids: [],
				default_payment_method: null,
				default_source: null,
				default_tax_rates: [],
				description: null,
				discount: null,
				discounts: [],
				due_date: null,
				effective_at: 1700655498,
				ending_balance: -9819,
				footer: null,
				from_invoice: null,
				hosted_invoice_url:
					'https://invoice.stripe.com/i/acct_1NFi8QL1Br9QmOBd/test_YWNjdF8xTkZpOFFMMUJyOVFtT0JkLF9QM001NlJmWkhMM1FTOXVETklkWnAzRmtCYXNmd1MyLDkxMTk2Mjk50200qbQrCIDD?s=ap',
				invoice_pdf:
					'https://pay.stripe.com/invoice/acct_1NFi8QL1Br9QmOBd/test_YWNjdF8xTkZpOFFMMUJyOVFtT0JkLF9QM001NlJmWkhMM1FTOXVETklkWnAzRmtCYXNmd1MyLDkxMTk2Mjk50200qbQrCIDD/pdf?s=ap',
				last_finalization_error: null,
				latest_revision: null,
				lines: {
					object: 'list',
					data: [
						{
							id: 'il_1OFFNmL1Br9QmOBdrkywFSNA',
							object: 'line_item',
							amount: -19461,
							amount_excluding_tax: -19461,
							currency: 'brl',
							description: 'Tempo não utilizado em Pro Plan após 22 Nov 2023',
							discount_amounts: [],
							discountable: false,
							discounts: [],
							invoice_item: 'ii_1OFFNmL1Br9QmOBd8Tfbn8UU',
							livemode: false,
							metadata: {},
							period: {
								end: 1703178853,
								start: 1700655468,
							},
							plan: {
								id: 'price_1Ncf3mL1Br9QmOBdo4k3uk9k',
								object: 'plan',
								active: true,
								aggregate_usage: null,
								amount: 19990,
								amount_decimal: '19990',
								billing_scheme: 'per_unit',
								created: 1691459410,
								currency: 'brl',
								interval: 'month',
								interval_count: 1,
								livemode: false,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1Iwj1rYiUgE',
								tiers_mode: null,
								transform_usage: null,
								trial_period_days: null,
								usage_type: 'licensed',
							},
							price: {
								id: 'price_1Ncf3mL1Br9QmOBdo4k3uk9k',
								object: 'price',
								active: true,
								billing_scheme: 'per_unit',
								created: 1691459410,
								currency: 'brl',
								custom_unit_amount: null,
								livemode: false,
								lookup_key: null,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1Iwj1rYiUgE',
								recurring: {
									aggregate_usage: null,
									interval: 'month',
									interval_count: 1,
									trial_period_days: null,
									usage_type: 'licensed',
								},
								tax_behavior: 'unspecified',
								tiers_mode: null,
								transform_quantity: null,
								type: 'recurring',
								unit_amount: 19990,
								unit_amount_decimal: '19990',
							},
							proration: true,
							proration_details: {
								credited_items: {
									invoice: 'in_1OF4nCL1Br9QmOBdjTM9hLaA',
									invoice_line_items: ['il_1OF4nDL1Br9QmOBdwlHL5v2U'],
								},
							},
							quantity: 1,
							subscription: 'sub_1NzIe0L1Br9QmOBdBcsZW1Vs',
							subscription_item: 'si_OmsOEdEdGRMPJw',
							tax_amounts: [],
							tax_rates: [],
							type: 'invoiceitem',
							unit_amount_excluding_tax: '-19461',
						},
						{
							id: 'il_1OFFNnL1Br9QmOBdqc4lX3nq',
							object: 'line_item',
							amount: 9726,
							amount_excluding_tax: 9726,
							currency: 'brl',
							description: 'Tempo restante em Standard Plan após 22 Nov 2023',
							discount_amounts: [],
							discountable: false,
							discounts: [],
							invoice_item: 'ii_1OFFNmL1Br9QmOBdhblD3PSw',
							livemode: false,
							metadata: {},
							period: {
								end: 1703178853,
								start: 1700655468,
							},
							plan: {
								id: 'price_1Ncf37L1Br9QmOBdmEp90h3X',
								object: 'plan',
								active: true,
								aggregate_usage: null,
								amount: 9990,
								amount_decimal: '9990',
								billing_scheme: 'per_unit',
								created: 1691459369,
								currency: 'brl',
								interval: 'month',
								interval_count: 1,
								livemode: false,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1UMsSZahJUB',
								tiers_mode: null,
								transform_usage: null,
								trial_period_days: null,
								usage_type: 'licensed',
							},
							price: {
								id: 'price_1Ncf37L1Br9QmOBdmEp90h3X',
								object: 'price',
								active: true,
								billing_scheme: 'per_unit',
								created: 1691459369,
								currency: 'brl',
								custom_unit_amount: null,
								livemode: false,
								lookup_key: null,
								metadata: {},
								nickname: null,
								product: 'prod_OPU1UMsSZahJUB',
								recurring: {
									aggregate_usage: null,
									interval: 'month',
									interval_count: 1,
									trial_period_days: null,
									usage_type: 'licensed',
								},
								tax_behavior: 'unspecified',
								tiers_mode: null,
								transform_quantity: null,
								type: 'recurring',
								unit_amount: 9990,
								unit_amount_decimal: '9990',
							},
							proration: true,
							proration_details: {
								credited_items: null,
							},
							quantity: 1,
							subscription: 'sub_1NzIe0L1Br9QmOBdBcsZW1Vs',
							subscription_item: 'si_OmsOEdEdGRMPJw',
							tax_amounts: [],
							tax_rates: [],
							type: 'invoiceitem',
							unit_amount_excluding_tax: '9726',
						},
					],
					has_more: false,
					total_count: 2,
					url: '/v1/invoices/in_1OFFNmL1Br9QmOBdj8GM1NC9/lines',
				},
				livemode: false,
				metadata: {},
				next_payment_attempt: null,
				number: '05494D0A-0017',
				on_behalf_of: null,
				paid: true,
				paid_out_of_band: false,
				payment_intent: null,
				payment_settings: {
					default_mandate: null,
					payment_method_options: null,
					payment_method_types: null,
				},
				period_end: 1700655498,
				period_start: 1700586853,
				post_payment_credit_notes_amount: 0,
				pre_payment_credit_notes_amount: 0,
				quote: null,
				receipt_number: null,
				rendering: null,
				rendering_options: null,
				shipping_cost: null,
				shipping_details: null,
				starting_balance: -84,
				statement_descriptor: null,
				status: 'paid',
				status_transitions: {
					finalized_at: 1700655498,
					marked_uncollectible_at: null,
					paid_at: 1700655498,
					voided_at: null,
				},
				subscription: 'sub_1NzIe0L1Br9QmOBdBcsZW1Vs',
				subscription_details: {
					metadata: <StripeSubscriptionMetaData>{
						accountId,
					},
				},
				subtotal: -9735,
				subtotal_excluding_tax: -9735,
				tax: null,
				test_clock: null,
				total: -9735,
				total_discount_amounts: [],
				total_excluding_tax: -9735,
				total_tax_amounts: [],
				transfer_data: null,
				webhooks_delivered_at: null,
			},
		},
		livemode: false,
		pending_webhooks: 3,
		request: {
			id: null,
			idempotency_key: 'afe0047f-0be1-4768-aa35-530a353d0038',
		},
		type: 'invoice.paid',
	},
});
